<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>testcodeTPC: tpcDataDecoder Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">testcodeTPC
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classtpcDataDecoder.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">tpcDataDecoder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="tpcDataDecoder" -->
<p><code>#include &lt;<a class="el" href="dataDecoder_8hh_source.html">dataDecoder.hh</a>&gt;</code></p>

<p><a href="classtpcDataDecoder-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtpcDataDecoder.html#a9cdab38c34f69598aeacfaebef443007">tpcDataDecoder</a> (std::string filename)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classtpcPad.html">tpcPad</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtpcDataDecoder.html#a2a99945b09c1a1e4043abd84abbe4d3f">decodeNextEvent</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">not ideal, std::vector&lt;tpcPad&gt; is re-copied... can take some time, need to be moved to auto-pointer .  <a href="#a2a99945b09c1a1e4043abd84abbe4d3f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtpcDataDecoder.html#a2164a86f0a84baff3dc1692f378154c7">endOfDataFile</a> (void)</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtpcDataDecoder.html#a8273e88f72ee5b453ca985178470bb37">_dataFileName</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtpcDataDecoder.html#a5453429810daae06c1f4a2433d3cecb1">_first</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtpcDataDecoder.html#a0748a00add061f79fd6e858d35d8e6e5">_last</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtpcDataDecoder.html#a33898743077db925fbb9d8878e38d776">_iEvt</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtpcDataDecoder.html#aa89ab0b342c6070a2365a9a4e1eed148">_fData</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structHeader.html">Header</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtpcDataDecoder.html#ac35793fd3bcdb92e29848603a6318dfe">head</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDataPacketHeader.html">DataPacketHeader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtpcDataDecoder.html#abd0abaae6035cb0600efaec0ecd89da9">pHeader</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDataPacketEnd.html">DataPacketEnd</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtpcDataDecoder.html#afcdff698bf531134da257fc25125cfb0">pEnd</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classtpcPad.html">tpcPad</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtpcDataDecoder.html#a090c14a5efd50a933959b3ca466bba87">_data</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>-------------------------------------------------------- Class handling decoding -------------------------------------------------------- </p>

<p>Definition at line <a class="el" href="dataDecoder_8hh_source.html#l00017">17</a> of file <a class="el" href="dataDecoder_8hh_source.html">dataDecoder.hh</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9cdab38c34f69598aeacfaebef443007"></a><!-- doxytag: member="tpcDataDecoder::tpcDataDecoder" ref="a9cdab38c34f69598aeacfaebef443007" args="(std::string filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtpcDataDecoder.html#a9cdab38c34f69598aeacfaebef443007">tpcDataDecoder::tpcDataDecoder</a> </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dataDecoder_8cc_source.html#l00009">9</a> of file <a class="el" href="dataDecoder_8cc_source.html">dataDecoder.cc</a>.</p>
<div class="fragment"><pre class="fragment">{ <a class="code" href="classtpcDataDecoder.html#a8273e88f72ee5b453ca985178470bb37">_dataFileName</a> = filename; <a class="code" href="classtpcDataDecoder.html#a5453429810daae06c1f4a2433d3cecb1">_first</a> = <span class="keyword">true</span>; <a class="code" href="classtpcDataDecoder.html#a0748a00add061f79fd6e858d35d8e6e5">_last</a> = <span class="keyword">false</span>; <a class="code" href="classtpcDataDecoder.html#a33898743077db925fbb9d8878e38d776">_iEvt</a> = 0;}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a2a99945b09c1a1e4043abd84abbe4d3f"></a><!-- doxytag: member="tpcDataDecoder::decodeNextEvent" ref="a2a99945b09c1a1e4043abd84abbe4d3f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classtpcPad.html">tpcPad</a> &gt; <a class="el" href="classtpcDataDecoder.html#a2a99945b09c1a1e4043abd84abbe4d3f">tpcDataDecoder::decodeNextEvent</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>not ideal, std::vector&lt;tpcPad&gt; is re-copied... can take some time, need to be moved to auto-pointer . </p>
<p>clear data</p>
<p>!!!! </p>

<p>Definition at line <a class="el" href="dataDecoder_8cc_source.html#l00012">12</a> of file <a class="el" href="dataDecoder_8cc_source.html">dataDecoder.cc</a>.</p>

<p>References <a class="el" href="MMonitoring_8cpp_source.html#l00154">_fData</a>, <a class="el" href="tpcElecDataFormats_8hh_source.html#l00025">DataPacketHeader::args</a>, <a class="el" href="tpcElecDataFormats_8hh_source.html#l00035">NewDataHeader::args</a>, <a class="el" href="MMonitoring_8cpp_source.html#l00141">buffer</a>, <a class="el" href="MMonitoring_8cpp_source.html#l00158">dataADC</a>, <a class="el" href="tpcElecDataFormats_8hh_source.html#l00023">DataPacketHeader::dcc_hdr</a>, <a class="el" href="tpcElecDataFormats_8hh_source.html#l00010">Header::eventNumb</a>, <a class="el" href="tpcElecDataFormats_8hh_source.html#l00009">Header::eventSize</a>, <a class="el" href="mygblink_8h_source.html#l00115">GET_BIN_INDEX</a>, <a class="el" href="mygblink_8h_source.html#l00105">GET_FLAG</a>, <a class="el" href="mygblink_8h_source.html#l00077">GET_LOS_FLAG</a>, <a class="el" href="mygblink_8h_source.html#l00084">GET_RB_ARG1</a>, <a class="el" href="mygblink_8h_source.html#l00083">GET_RB_ARG2</a>, <a class="el" href="mygblink_8h_source.html#l00082">GET_RB_COMPRESS</a>, <a class="el" href="mygblink_8h_source.html#l00108">GET_RT</a>, <a class="el" href="mygblink_8h_source.html#l00078">GET_SYNCH_FAIL</a>, <a class="el" href="mygblink_8h_source.html#l00104">GET_VERSION</a>, <a class="el" href="tpcElecDataFormats_8hh_source.html#l00024">DataPacketHeader::hdr</a>, <a class="el" href="MMonitoring_8cpp_source.html#l00202">head</a>, <a class="el" href="MMonitoring_8cpp_source.html#l00080">Ntime</a>, <a class="el" href="MMonitoring_8cpp_source.html#l00204">pData</a>, <a class="el" href="MMonitoring_8cpp_source.html#l00205">pEnd</a>, <a class="el" href="MMonitoring_8cpp_source.html#l00203">pHeader</a>, <a class="el" href="tpcElecDataFormats_8hh_source.html#l00029">DataPacketHeader::scnt</a>, <a class="el" href="tpcPadDataFormats_8hh_source.html#l00013">tpcPad::setPad()</a>, <a class="el" href="tpcElecDataFormats_8hh_source.html#l00022">DataPacketHeader::size</a>, and <a class="el" href="tpcElecDataFormats_8hh_source.html#l00036">NewDataHeader::wordcount</a>.</p>

<p>Referenced by <a class="el" href="acqToRootConverterExe_8cc_source.html#l00028">main()</a>.</p>
<div class="fragment"><pre class="fragment">                                                      {
  <span class="keywordtype">int</span> <a class="code" href="MMonitoring_8cpp.html#a53fe2e6f68a74d6c496c8038ee19b1c1">Ntime</a> = 530;
  <span class="keywordtype">int</span> <a class="code" href="MMonitoring_8cpp.html#a0c7afc3fbe2c84da5f8852c76839b03b">buffer</a> = -1;
  <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="MMonitoring_8cpp.html#a6b24ab2acfbf00fd348f2c9e5c791c12">pData</a>[<a class="code" href="MMonitoring_8cpp.html#a53fe2e6f68a74d6c496c8038ee19b1c1">Ntime</a>];
<span class="comment"></span>
<span class="comment">  /// clear data</span>
<span class="comment"></span>  <a class="code" href="classtpcDataDecoder.html#a090c14a5efd50a933959b3ca466bba87">_data</a>.clear();

  <span class="keywordflow">if</span>( <a class="code" href="classtpcDataDecoder.html#a0748a00add061f79fd6e858d35d8e6e5">_last</a> ) <span class="keywordflow">return</span> <a class="code" href="classtpcDataDecoder.html#a090c14a5efd50a933959b3ca466bba87">_data</a>;
  
  <span class="keywordflow">if</span>( <a class="code" href="classtpcDataDecoder.html#a5453429810daae06c1f4a2433d3cecb1">_first</a> ) {
    cout &lt;&lt; <span class="stringliteral">&quot;OomonAcqReader OpenFile opening file &quot;</span> &lt;&lt; <a class="code" href="classtpcDataDecoder.html#a8273e88f72ee5b453ca985178470bb37">_dataFileName</a> &lt;&lt; endl;
    <a class="code" href="classtpcDataDecoder.html#aa89ab0b342c6070a2365a9a4e1eed148">_fData</a> = fopen(<a class="code" href="classtpcDataDecoder.html#a8273e88f72ee5b453ca985178470bb37">_dataFileName</a>.c_str(),<span class="stringliteral">&quot;rb&quot;</span>);
    
    <span class="comment">// check if this input datafile exist</span>
    <span class="keywordflow">if</span>( <a class="code" href="classtpcDataDecoder.html#aa89ab0b342c6070a2365a9a4e1eed148">_fData</a> == NULL ){
      <span class="comment">//cout&lt;&lt;&quot;Can&#39;t open data file : &quot; &lt;&lt; fileName &lt;&lt;endl;</span>
      <span class="keywordflow">return</span> <a class="code" href="classtpcDataDecoder.html#a090c14a5efd50a933959b3ca466bba87">_data</a>;<span class="comment">// End of program</span>
    }
    
    <span class="comment">// Read Run UID characters</span>
    <span class="keywordtype">char</span> runUid[21];
    buffer=fread(runUid, 1, 20, <a class="code" href="classtpcDataDecoder.html#aa89ab0b342c6070a2365a9a4e1eed148">_fData</a>);
    runUid[20] = <span class="charliteral">&#39;\0&#39;</span>; <span class="comment">// Null terminated C string</span>
    cout &lt;&lt; <span class="stringliteral">&quot;File UID is &quot;</span>&lt;&lt; runUid &lt;&lt; endl; 
    
    <a class="code" href="classtpcDataDecoder.html#a5453429810daae06c1f4a2433d3cecb1">_first</a> = <span class="keyword">false</span>;
  }
  
  <span class="keywordtype">bool</span> DEBUG = <span class="keyword">false</span>;
  
  <span class="keywordflow">if</span>( <a class="code" href="classtpcDataDecoder.html#a33898743077db925fbb9d8878e38d776">_iEvt</a>%50 == 0 ) cout &lt;&lt; <span class="stringliteral">&quot; converting event: &quot;</span> &lt;&lt; <a class="code" href="classtpcDataDecoder.html#a33898743077db925fbb9d8878e38d776">_iEvt</a> &lt;&lt; endl;
  <span class="comment">// Read Event Header</span>
  <span class="keywordflow">if</span>(fread(&amp;<a class="code" href="classtpcDataDecoder.html#ac35793fd3bcdb92e29848603a6318dfe">head</a>, <span class="keyword">sizeof</span>(<a class="code" href="structHeader.html">Header</a>), 1, <a class="code" href="classtpcDataDecoder.html#aa89ab0b342c6070a2365a9a4e1eed148">_fData</a>) != 1) {
    fclose(<a class="code" href="classtpcDataDecoder.html#aa89ab0b342c6070a2365a9a4e1eed148">_fData</a>);
    <a class="code" href="classtpcDataDecoder.html#a0748a00add061f79fd6e858d35d8e6e5">_last</a> = <span class="keyword">true</span>;
    <span class="keywordflow">return</span> <a class="code" href="classtpcDataDecoder.html#a090c14a5efd50a933959b3ca466bba87">_data</a>; <span class="comment">/*return 0; End of program*/</span>
  }
  
  <a class="code" href="classtpcDataDecoder.html#ac35793fd3bcdb92e29848603a6318dfe">head</a>.<a class="code" href="structHeader.html#ac229ae1b6f209803b8fa8d81cfa6a2a3">eventSize</a> = ntohl(<a class="code" href="classtpcDataDecoder.html#ac35793fd3bcdb92e29848603a6318dfe">head</a>.<a class="code" href="structHeader.html#ac229ae1b6f209803b8fa8d81cfa6a2a3">eventSize</a>); <span class="comment">// size of current event</span>
  <a class="code" href="classtpcDataDecoder.html#ac35793fd3bcdb92e29848603a6318dfe">head</a>.<a class="code" href="structHeader.html#a89320fbaeec41a49b9c54b98d4c9a6d6">eventNumb</a> = ntohl(<a class="code" href="classtpcDataDecoder.html#ac35793fd3bcdb92e29848603a6318dfe">head</a>.<a class="code" href="structHeader.html#a89320fbaeec41a49b9c54b98d4c9a6d6">eventNumb</a>); <span class="comment">// current event number</span>

  <span class="keywordtype">int</span> eventSize = <a class="code" href="classtpcDataDecoder.html#ac35793fd3bcdb92e29848603a6318dfe">head</a>.<a class="code" href="structHeader.html#ac229ae1b6f209803b8fa8d81cfa6a2a3">eventSize</a>;
  <span class="keywordtype">int</span> eventNumb = <a class="code" href="classtpcDataDecoder.html#ac35793fd3bcdb92e29848603a6318dfe">head</a>.<a class="code" href="structHeader.html#a89320fbaeec41a49b9c54b98d4c9a6d6">eventNumb</a>;

  <span class="comment">//   int evN = head.eventNumb;</span>
  <span class="keywordflow">if</span> (DEBUG) cout &lt;&lt;  <span class="stringliteral">&quot;Event number: &quot;</span> &lt;&lt; eventNumb &lt;&lt; endl;

  <span class="keywordtype">int</span> rawDataSize = eventSize - <span class="keyword">sizeof</span>(<a class="code" href="classtpcDataDecoder.html#ac35793fd3bcdb92e29848603a6318dfe">head</a>) - <span class="keyword">sizeof</span>(<a class="code" href="classtpcDataDecoder.html#afcdff698bf531134da257fc25125cfb0">pEnd</a>);
  <span class="keywordtype">int</span> nByteTot    = rawDataSize ; 
  <span class="keywordtype">int</span> nByteRead   = 0;

  <span class="comment">//cout &lt;&lt; &quot;New Event : size = 0x&quot; &lt;&lt; hex &lt;&lt; eventSize &lt;&lt; &quot;, &quot;</span>
  <span class="comment">//     &lt;&lt; eventNumb &lt;&lt; dec &lt;&lt; endl;</span>

  <span class="keywordflow">while</span> (nByteRead &lt; nByteTot ) <span class="comment">// nByteTot represents the size of the full event, not only the current packet</span>
  {
    <span class="comment">// Read Packet Header of the current packet</span>
    buffer     = fread(&amp;<a class="code" href="classtpcDataDecoder.html#abd0abaae6035cb0600efaec0ecd89da9">pHeader</a>, <span class="keyword">sizeof</span>(<a class="code" href="structDataPacketHeader.html">DataPacketHeader</a>), 1, <a class="code" href="classtpcDataDecoder.html#aa89ab0b342c6070a2365a9a4e1eed148">_fData</a>); <span class="comment">//!!!!!</span>
<span class="comment"></span>    nByteRead += <span class="keyword">sizeof</span>(<a class="code" href="structDataPacketHeader.html">DataPacketHeader</a>); 

    <span class="comment">// # of data words in the packet except header and trailer</span>
    <span class="keywordtype">int</span> kTrailerSize = 2;
    <span class="keywordtype">int</span> kPktHdrSize  = <span class="keyword">sizeof</span>(<a class="code" href="classtpcDataDecoder.html#abd0abaae6035cb0600efaec0ecd89da9">pHeader</a>) / <span class="keyword">sizeof</span>(<span class="keywordtype">short</span>); <span class="comment">// 8</span>
    <span class="keywordtype">int</span> nTotPktWords = ntohs(<a class="code" href="classtpcDataDecoder.html#abd0abaae6035cb0600efaec0ecd89da9">pHeader</a>.<a class="code" href="structDataPacketHeader.html#a7258e3e9f4d7250a3c9bf6d9f39cf889">size</a>) / <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> short);

    <span class="keywordtype">int</span> nlinespacket = nTotPktWords - kPktHdrSize - kTrailerSize;

    <span class="comment">//cout &lt;&lt; &quot;New Packet : size=0x&quot; &lt;&lt; hex &lt;&lt; ntohs(pHeader.size) &lt;&lt; dec &lt;&lt; endl;</span>

    <span class="comment">// Check sync fail</span>
    <span class="keywordflow">if</span> (<a class="code" href="mygblink_8h.html#acbcc4854718a821580d3f5fe43c1b746">GET_LOS_FLAG</a>  ((ntohs(<a class="code" href="classtpcDataDecoder.html#abd0abaae6035cb0600efaec0ecd89da9">pHeader</a>.<a class="code" href="structDataPacketHeader.html#aae7a7d85f17c24e626574b23873ecf5a">hdr</a>) ))) cout&lt;&lt;<span class="stringliteral">&quot;LOS FLAG SET&quot;</span>&lt;&lt; endl;
    <span class="keywordflow">if</span> (<a class="code" href="mygblink_8h.html#af16f25725414a2400314b1098c2ea22f">GET_SYNCH_FAIL</a>((ntohs(<a class="code" href="classtpcDataDecoder.html#abd0abaae6035cb0600efaec0ecd89da9">pHeader</a>.<a class="code" href="structDataPacketHeader.html#aae7a7d85f17c24e626574b23873ecf5a">hdr</a>) ))) cout&lt;&lt;<span class="stringliteral">&quot;SYNC FAIL FLAG SET&quot;</span>&lt;&lt; endl;
    <span class="comment">// Check compress mode</span>
    <span class="keywordtype">int</span> compressed = <a class="code" href="mygblink_8h.html#ae2eb1d28ec6e5ae4b78f66a0d1ac7641">GET_RB_COMPRESS</a>(ntohs(<a class="code" href="classtpcDataDecoder.html#abd0abaae6035cb0600efaec0ecd89da9">pHeader</a>.<a class="code" href="structDataPacketHeader.html#aadbcb0036bf7e5047d067aad38cfc6b1">args</a>));
    <span class="comment">//int tempAsic1  = GET_RB_ARG1(ntohs(pHeader.args)); </span>
    <span class="comment">//int tempAsic2  = GET_RB_ARG2(ntohs(pHeader.args)); </span>

    <span class="keywordtype">int</span> version   = <a class="code" href="mygblink_8h.html#a12d1ba3bd7a9dc2c082214a6e4171ca3">GET_VERSION</a>  (ntohs(<a class="code" href="classtpcDataDecoder.html#abd0abaae6035cb0600efaec0ecd89da9">pHeader</a>.<a class="code" href="structDataPacketHeader.html#a242a8a097ce18db32d257dcf32a2e5cb">dcc_hdr</a>)); <span class="comment">// old is 0, new is 1</span>
    <span class="keywordtype">int</span> dccFlag   = <a class="code" href="mygblink_8h.html#a11012ecb2b19de26108cf2bd0f1b9fa5">GET_FLAG</a>     (ntohs(<a class="code" href="classtpcDataDecoder.html#abd0abaae6035cb0600efaec0ecd89da9">pHeader</a>.<a class="code" href="structDataPacketHeader.html#a242a8a097ce18db32d257dcf32a2e5cb">dcc_hdr</a>)); 
    <span class="keywordtype">int</span> replyType = <a class="code" href="mygblink_8h.html#a318f0a316aa00af759754a31b4ae806c">GET_RT</a>       (ntohs(<a class="code" href="classtpcDataDecoder.html#abd0abaae6035cb0600efaec0ecd89da9">pHeader</a>.<a class="code" href="structDataPacketHeader.html#a242a8a097ce18db32d257dcf32a2e5cb">dcc_hdr</a>)); 
    <span class="comment">//    int femId     = GET_FEM_INDEX(ntohs(pHeader.dcc_hdr));</span>

    <span class="comment">//     int FrameType = GET_FRAME_TY_V2(ntohs(pHeader.dcc_hdr));</span>
    <span class="comment">//     cout &lt;&lt; &quot;FrameType: &quot; &lt;&lt;  FrameType &lt;&lt; endl;</span>
    <span class="comment">//     cout &lt;&lt; &quot;RT: &quot;   &lt;&lt;  RT &lt;&lt; endl;</span>
    <span class="keywordflow">if</span> (DEBUG) cout &lt;&lt; <span class="stringliteral">&quot;Version: &quot;</span> &lt;&lt; version &lt;&lt; endl;
    <span class="keywordflow">if</span> (DEBUG) cout &lt;&lt; <span class="stringliteral">&quot;Flag: &quot;</span>    &lt;&lt; dccFlag &lt;&lt; endl;

    <span class="comment">// Check dcc flags</span>
    <span class="keywordflow">if</span> ( version != 1 ) {
      cout &lt;&lt; <span class="stringliteral">&quot;WARNING: This is NOT a version 2 format data&quot;</span> &lt;&lt; endl;
    }

    <span class="comment">// If EoE or Non-FEM data, read out all remaining packet data and </span>
    <span class="comment">// exit from the loop since there is nothing to be done.</span>
    <span class="keywordflow">if</span> ( dccFlag==2 || replyType==1) 
    {
      <span class="keywordtype">int</span> nWordsToRead = nTotPktWords - kPktHdrSize; <span class="comment">// - kTrailerSize;</span>
      buffer = fread(&amp;pData, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>), nWordsToRead, <a class="code" href="classtpcDataDecoder.html#aa89ab0b342c6070a2365a9a4e1eed148">_fData</a>);
      nByteRead += <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> short) * nWordsToRead;
      <span class="keywordflow">break</span>;
    }

    <span class="comment">// compute asic# </span>
    <span class="comment">//int channelN = tempAsic1/6; </span>
    <span class="comment">//int asicN    = 10*(tempAsic1%6)/2 + tempAsic2;</span>
    <span class="comment">// cout &lt;&lt; &quot;asicN, channelN: &quot; &lt;&lt; asicN &lt;&lt; &quot;, &quot; &lt;&lt; channelN &lt;&lt; endl;</span>

    <span class="comment">// get sample count of the first channel</span>
    <span class="comment">//int tempAsic1  = GET_RB_ARG1(ntohs(pHeader.args)); </span>
    <span class="comment">//int tempAsic2  = GET_RB_ARG2(ntohs(pHeader.args)); </span>
    <span class="comment">//int sampleCount = ntohs(pHeader.scnt);</span>

    <span class="comment">//    if (DEBUG)  cout &lt;&lt; &quot;Word count: &quot; &lt;&lt; sampleCount &lt;&lt; &quot;\t&quot; &lt;&lt; asicN &lt;&lt; &quot;\t&quot; &lt;&lt; channelN &lt;&lt; endl;</span>
    <span class="comment">// now read the data (should use the sample count !!!!</span>
    <span class="comment">// take into account padding short int to get even total</span>

    <span class="keywordtype">int</span> physChannel=-10; 
    <span class="keywordtype">int</span> bin_index;

    <span class="keywordtype">bool</span> firstChan  = <span class="keyword">true</span>;
    <span class="keywordtype">int</span>  nlinesread = 0;
    <span class="keywordflow">while</span> ( nlinesread &lt; nlinespacket )
    {
      <span class="comment">// Get args and sample count</span>
      <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> args, sampleCount;
      <span class="keywordflow">if</span> (firstChan) 
      {
        <span class="comment">//cout &lt;&lt; &quot;--- First Chan Dawa Block ----&quot; &lt;&lt; endl;</span>
        args        = ntohs(<a class="code" href="classtpcDataDecoder.html#abd0abaae6035cb0600efaec0ecd89da9">pHeader</a>.<a class="code" href="structDataPacketHeader.html#aadbcb0036bf7e5047d067aad38cfc6b1">args</a>); 
        sampleCount = ntohs(<a class="code" href="classtpcDataDecoder.html#abd0abaae6035cb0600efaec0ecd89da9">pHeader</a>.<a class="code" href="structDataPacketHeader.html#acea2d84578970a68ac2e86a0bf700ab1">scnt</a>);
        firstChan   = <span class="keyword">false</span>;
      } 
      <span class="keywordflow">else</span> 
      {
        <span class="comment">//cout &lt;&lt; &quot;--- New Chan Dawa Block ----&quot; &lt;&lt; endl;</span>
        <a class="code" href="structNewDataHeader.html">NewDataHeader</a> newData;
        buffer = fread(&amp;newData, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span>), 2, <a class="code" href="classtpcDataDecoder.html#aa89ab0b342c6070a2365a9a4e1eed148">_fData</a>); 
        nlinesread += 2;
        nByteRead  += 2*<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> int); 

        
        <span class="keywordflow">if</span> ( ((ntohs(newData.<a class="code" href="structNewDataHeader.html#ab5bfb640c85047f742e75e0bd06eb138">args</a>)      &amp; 0xE000) != 0x2000) || 
             ((ntohs(newData.<a class="code" href="structNewDataHeader.html#ad16179c6be21637d6df690590faa1238">wordcount</a>) &amp; 0xF000) != 0x4000))
        { cout &lt;&lt; <span class="stringliteral">&quot;something wrong happened... exiting&quot;</span> &lt;&lt; endl; exit(0); }

        args        = ntohs(newData.<a class="code" href="structNewDataHeader.html#ab5bfb640c85047f742e75e0bd06eb138">args</a>)      &amp; 0x1FFF; <span class="comment">// No need but...</span>
        sampleCount = ntohs(newData.<a class="code" href="structNewDataHeader.html#ad16179c6be21637d6df690590faa1238">wordcount</a>) &amp; 0x0FFF;
      }

      <span class="keywordtype">int</span> arg1 = <a class="code" href="mygblink_8h.html#a9b90dc454c904420681b2f8f229b98e3">GET_RB_ARG1</a>(args);
      <span class="keywordtype">int</span> arg2 = <a class="code" href="mygblink_8h.html#a0c227574a44ee78a0d06045a61debcb8">GET_RB_ARG2</a>(args);

      <span class="comment">// compute asic# </span>
      <span class="keywordtype">int</span> channelN = arg1/6;
      <span class="keywordtype">int</span> asicN    = 10*(arg1%6)/2 + arg2;

      <span class="comment">// From now on only data words until next channel data.</span>
      <span class="comment">// Thus read the data words.</span>
      <span class="keywordtype">int</span> sampleCountRead = sampleCount;
      <span class="keywordflow">if</span> (sampleCount%2 == 1)
        sampleCountRead++;

      buffer = fread(&amp;pData, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>), sampleCountRead, <a class="code" href="classtpcDataDecoder.html#aa89ab0b342c6070a2365a9a4e1eed148">_fData</a>);
      nlinesread += sampleCountRead;

      nByteRead += sampleCountRead * <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> short);

      <span class="comment">//unsigned short binIndex = ntohs(pData.data[0]);</span>
      <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> binIndex = ntohs(pData[0]);
<span class="comment">/*</span>
<span class="comment">      if (compressed &amp;&amp; ((binIndex &amp; 0xFE00) != 0x1000) ) {</span>
<span class="comment">        cout &lt;&lt; &quot;Not a bin index word: 0x&quot; &lt;&lt; hex </span>
<span class="comment">             &lt;&lt; ntohs(pData[0]) &lt;&lt; &quot; &quot; &lt;&lt; ntohs(pData[1]) &lt;&lt; &quot; &quot; &lt;&lt; ntohs(pData[2]) &lt;&lt; dec &lt;&lt; endl;</span>
<span class="comment">        exit(1);</span>
<span class="comment">      }</span>
<span class="comment">*/</span>
      bin_index = <a class="code" href="mygblink_8h.html#a3f6b04a653ad5e389f45e09907886ae6">GET_BIN_INDEX</a>(binIndex);
      <span class="comment">//cout &lt;&lt; &quot;Bin index: &quot; &lt;&lt; bin_index &lt;&lt; endl;</span>
      <span class="comment">//cout &lt;&lt; &quot;new word count: &quot; &lt;&lt; sampleCount &lt;&lt; endl;</span>

      <span class="keywordtype">int</span> t0 = 0;  <span class="comment">// will be updated for compressed data.</span>

      <span class="comment">//</span>
      <span class="comment">// Handle data</span>
      <span class="comment">//</span>
      <span class="keywordtype">bool</span> chstatus = <span class="keyword">false</span>;
 
      <span class="comment">// compute physical channel (0-71)</span>
      <span class="keywordflow">if</span> (channelN&gt; 2 &amp;&amp; channelN &lt; 15 ) {
        physChannel= channelN -3; chstatus = <span class="keyword">true</span>;
      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (channelN&gt; 15 &amp;&amp; channelN &lt; 28 ) {
        physChannel= channelN -4; chstatus = <span class="keyword">true</span>;
      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (channelN&gt; 28 &amp;&amp; channelN &lt; 53 ) {
        physChannel= channelN -5; chstatus = <span class="keyword">true</span>;
      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (channelN&gt; 53 &amp;&amp; channelN &lt; 66 ) {
        physChannel= channelN -6; chstatus = <span class="keyword">true</span>;
      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (channelN&gt; 66  ) {
        physChannel= channelN -7; chstatus = <span class="keyword">true</span>;
      }

      <span class="keywordtype">int</span> thisPhysChannel = asicN*72+physChannel;   <span class="comment">// 2011/05/12</span>
      <span class="comment">//int thisPhysChannel = hwMap-&gt;getPadId(args);  // 2011/05/12</span>
      <span class="keywordflow">if</span> ((thisPhysChannel &lt; 0) || (thisPhysChannel &gt;= 1728)) {
        <span class="comment">//cout &lt;&lt; &quot;thisPhysChan=&quot; &lt;&lt; thisPhysChannel &lt;&lt; &quot;, &quot;</span>
        <span class="comment">//     &lt;&lt; &quot;args=&quot; &lt;&lt; args &lt;&lt; endl;</span>
        <span class="keywordflow">continue</span>;
      }
      vector&lt;int&gt; <a class="code" href="MMonitoring_8cpp.html#aebfe5efc839287e2ebca662d5a5af75a">dataADC</a>(sampleCount,0);

      <span class="keywordflow">if</span> (physChannel&gt;=0 &amp;&amp; physChannel&lt;72 &amp;&amp; chstatus) 
      {
        <span class="comment">// // Reset dataADC</span>
        <span class="comment">// for (Int_t itime=0; itime&lt;Ntime; itime++) {dataADC[itime]=0;}</span>
        
        <span class="comment">//unsigned short int timebin0 = ntohs(pData.data[0]);</span>
        <span class="comment">//cout &lt;&lt; &quot;timebin0: &quot; &lt;&lt; (timebin0 &amp; 0x1FF)  &lt;&lt; endl;</span>
        <span class="comment">//int t0 = (timebin0 &amp; 0x1FF);</span>
        <span class="keywordflow">if</span>(compressed)                  <span class="comment">////compressed data</span>
<span class="comment"></span>        {
          <span class="comment">// Calculate time bin of the first sample of the first pulse</span>
          <span class="keyword">const</span> <span class="keywordtype">int</span> kPreThr = 10; <span class="comment">// # of sample before threshold</span>
          <span class="keywordtype">int</span> nskip;          <span class="comment">// in case of scnt &lt; 10, </span>
          <span class="keywordflow">if</span> (bin_index &lt; kPreThr) {
            t0    = 0;            <span class="comment">// time bin id of the first valid sample = 0 </span>
            nskip = kPreThr - t0; <span class="comment">// first few samples are just paddings</span>
          }
          <span class="keywordflow">else</span> {
            t0    = bin_index - kPreThr;
            nskip = 0;           <span class="comment">// all samples are valid --&gt; no need to skip</span>
          }

          <span class="comment">//</span>
          <span class="keywordtype">int</span> iT = 0; <span class="comment">// distance from the t0 </span>
          <span class="keywordflow">if</span> (sampleCount&lt;=Ntime) {
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ismpl=nskip+1; ismpl&lt;sampleCount-1; ismpl++) 
            {
              <span class="comment">//unsigned short int datum = ntohs(pData.data[ismpl]);</span>
              <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> datum = ntohs(pData[ismpl]);

              <span class="keywordflow">if</span> ((datum &amp; 0x1000) == 0)   <span class="comment">// Check Bin Index Word mask</span>
              {
                <span class="comment">// Just in case</span>
                <span class="keywordflow">if</span> ((datum &amp; 0xF000) != 0) {
                  cout &lt;&lt; <span class="stringliteral">&quot;*** ERROR: Wrong sample word: 0x&quot;</span> &lt;&lt; hex 
                       &lt;&lt; datum &lt;&lt; dec &lt;&lt; <span class="stringliteral">&quot;: nskip=&quot;</span> &lt;&lt; nskip &lt;&lt; endl;
                }

                <span class="keyword">const</span> <span class="keywordtype">int</span> kOffset = 250;
                
                <span class="keywordtype">int</span> index  = t0 + iT;
                <span class="keywordtype">int</span> datumC = datum - kOffset; 
                <a class="code" href="MMonitoring_8cpp.html#aebfe5efc839287e2ebca662d5a5af75a">dataADC</a>[index] = datumC;

                iT++;

              }
              <span class="keywordflow">else</span>  <span class="comment">// This is Bin index word</span>
              {
                iT        = 0;  <span class="comment">// reset distance from the t0</span>
                bin_index = <a class="code" href="mygblink_8h.html#a3f6b04a653ad5e389f45e09907886ae6">GET_BIN_INDEX</a>(datum);
                t0        = bin_index - kPreThr;
              }
            } <span class="comment">// sample words walking</span>
          } <span class="comment">// IF</span>
        } 
        <span class="keywordflow">else</span> {  <span class="comment">// Non-Compressed</span>
          <span class="comment">// NOTE: There is NO bin index word in non-compressed data !</span>
          <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> ismpl=1; ismpl&lt;sampleCount-1; ismpl++)
          {
            <a class="code" href="MMonitoring_8cpp.html#aebfe5efc839287e2ebca662d5a5af75a">dataADC</a>[ismpl]= ntohs(pData[ismpl]);
          }
        }  <span class="comment">//end of boucle over data    </span>
        
        <span class="comment">//-----------------------------------</span>

      <a class="code" href="classtpcPad.html">tpcPad</a> mypad;
      <a class="code" href="classtpcDataDecoder.html#a090c14a5efd50a933959b3ca466bba87">_data</a>.push_back( mypad );
      <a class="code" href="classtpcDataDecoder.html#a090c14a5efd50a933959b3ca466bba87">_data</a>[<a class="code" href="classtpcDataDecoder.html#a090c14a5efd50a933959b3ca466bba87">_data</a>.size()-1].setPad( thisPhysChannel, <a class="code" href="MMonitoring_8cpp.html#aebfe5efc839287e2ebca662d5a5af75a">dataADC</a> );

      }


    }
   
    <span class="comment">// Read the trailer words</span>
    buffer = fread(&amp;<a class="code" href="classtpcDataDecoder.html#afcdff698bf531134da257fc25125cfb0">pEnd</a>, <span class="keyword">sizeof</span>(<a class="code" href="structDataPacketEnd.html">DataPacketEnd</a>), 1, <a class="code" href="classtpcDataDecoder.html#aa89ab0b342c6070a2365a9a4e1eed148">_fData</a>);
    nByteRead += <span class="keyword">sizeof</span>(<a class="code" href="structDataPacketEnd.html">DataPacketEnd</a>);

  }<span class="comment">//end main channel</span>

  <a class="code" href="classtpcDataDecoder.html#a33898743077db925fbb9d8878e38d776">_iEvt</a>++;
  <span class="keywordflow">return</span> <a class="code" href="classtpcDataDecoder.html#a090c14a5efd50a933959b3ca466bba87">_data</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2164a86f0a84baff3dc1692f378154c7"></a><!-- doxytag: member="tpcDataDecoder::endOfDataFile" ref="a2164a86f0a84baff3dc1692f378154c7" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classtpcDataDecoder.html#a2164a86f0a84baff3dc1692f378154c7">tpcDataDecoder::endOfDataFile</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dataDecoder_8hh_source.html#l00024">24</a> of file <a class="el" href="dataDecoder_8hh_source.html">dataDecoder.hh</a>.</p>

<p>References <a class="el" href="dataDecoder_8hh_source.html#l00029">_last</a>.</p>

<p>Referenced by <a class="el" href="acqToRootConverterExe_8cc_source.html#l00028">main()</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="classtpcDataDecoder.html#a0748a00add061f79fd6e858d35d8e6e5">_last</a>; }
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a090c14a5efd50a933959b3ca466bba87"></a><!-- doxytag: member="tpcDataDecoder::_data" ref="a090c14a5efd50a933959b3ca466bba87" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classtpcPad.html">tpcPad</a>&gt; <a class="el" href="classtpcDataDecoder.html#a090c14a5efd50a933959b3ca466bba87">tpcDataDecoder::_data</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dataDecoder_8hh_source.html#l00037">37</a> of file <a class="el" href="dataDecoder_8hh_source.html">dataDecoder.hh</a>.</p>

</div>
</div>
<a class="anchor" id="a8273e88f72ee5b453ca985178470bb37"></a><!-- doxytag: member="tpcDataDecoder::_dataFileName" ref="a8273e88f72ee5b453ca985178470bb37" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classtpcDataDecoder.html#a8273e88f72ee5b453ca985178470bb37">tpcDataDecoder::_dataFileName</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dataDecoder_8hh_source.html#l00027">27</a> of file <a class="el" href="dataDecoder_8hh_source.html">dataDecoder.hh</a>.</p>

</div>
</div>
<a class="anchor" id="aa89ab0b342c6070a2365a9a4e1eed148"></a><!-- doxytag: member="tpcDataDecoder::_fData" ref="aa89ab0b342c6070a2365a9a4e1eed148" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* <a class="el" href="classtpcDataDecoder.html#aa89ab0b342c6070a2365a9a4e1eed148">tpcDataDecoder::_fData</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dataDecoder_8hh_source.html#l00031">31</a> of file <a class="el" href="dataDecoder_8hh_source.html">dataDecoder.hh</a>.</p>

</div>
</div>
<a class="anchor" id="a5453429810daae06c1f4a2433d3cecb1"></a><!-- doxytag: member="tpcDataDecoder::_first" ref="a5453429810daae06c1f4a2433d3cecb1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classtpcDataDecoder.html#a5453429810daae06c1f4a2433d3cecb1">tpcDataDecoder::_first</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dataDecoder_8hh_source.html#l00028">28</a> of file <a class="el" href="dataDecoder_8hh_source.html">dataDecoder.hh</a>.</p>

</div>
</div>
<a class="anchor" id="a33898743077db925fbb9d8878e38d776"></a><!-- doxytag: member="tpcDataDecoder::_iEvt" ref="a33898743077db925fbb9d8878e38d776" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classtpcDataDecoder.html#a33898743077db925fbb9d8878e38d776">tpcDataDecoder::_iEvt</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dataDecoder_8hh_source.html#l00030">30</a> of file <a class="el" href="dataDecoder_8hh_source.html">dataDecoder.hh</a>.</p>

</div>
</div>
<a class="anchor" id="a0748a00add061f79fd6e858d35d8e6e5"></a><!-- doxytag: member="tpcDataDecoder::_last" ref="a0748a00add061f79fd6e858d35d8e6e5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classtpcDataDecoder.html#a0748a00add061f79fd6e858d35d8e6e5">tpcDataDecoder::_last</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dataDecoder_8hh_source.html#l00029">29</a> of file <a class="el" href="dataDecoder_8hh_source.html">dataDecoder.hh</a>.</p>

<p>Referenced by <a class="el" href="dataDecoder_8hh_source.html#l00024">endOfDataFile()</a>.</p>

</div>
</div>
<a class="anchor" id="ac35793fd3bcdb92e29848603a6318dfe"></a><!-- doxytag: member="tpcDataDecoder::head" ref="ac35793fd3bcdb92e29848603a6318dfe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structHeader.html">Header</a> <a class="el" href="classtpcDataDecoder.html#ac35793fd3bcdb92e29848603a6318dfe">tpcDataDecoder::head</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dataDecoder_8hh_source.html#l00033">33</a> of file <a class="el" href="dataDecoder_8hh_source.html">dataDecoder.hh</a>.</p>

</div>
</div>
<a class="anchor" id="afcdff698bf531134da257fc25125cfb0"></a><!-- doxytag: member="tpcDataDecoder::pEnd" ref="afcdff698bf531134da257fc25125cfb0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDataPacketEnd.html">DataPacketEnd</a> <a class="el" href="classtpcDataDecoder.html#afcdff698bf531134da257fc25125cfb0">tpcDataDecoder::pEnd</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dataDecoder_8hh_source.html#l00035">35</a> of file <a class="el" href="dataDecoder_8hh_source.html">dataDecoder.hh</a>.</p>

</div>
</div>
<a class="anchor" id="abd0abaae6035cb0600efaec0ecd89da9"></a><!-- doxytag: member="tpcDataDecoder::pHeader" ref="abd0abaae6035cb0600efaec0ecd89da9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDataPacketHeader.html">DataPacketHeader</a> <a class="el" href="classtpcDataDecoder.html#abd0abaae6035cb0600efaec0ecd89da9">tpcDataDecoder::pHeader</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dataDecoder_8hh_source.html#l00034">34</a> of file <a class="el" href="dataDecoder_8hh_source.html">dataDecoder.hh</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/tuchming/data/saclay1_e6430/miniTPC/code/DataWriter/interface/<a class="el" href="dataDecoder_8hh_source.html">dataDecoder.hh</a></li>
<li>/home/tuchming/data/saclay1_e6430/miniTPC/code/DataWriter/src/<a class="el" href="dataDecoder_8cc_source.html">dataDecoder.cc</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classtpcDataDecoder.html">tpcDataDecoder</a>      </li>

    <li class="footer">Generated on Tue Nov 10 2015 18:49:07 for testcodeTPC by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
